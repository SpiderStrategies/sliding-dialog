/*!
 * sliding-dialog.js v0.0.2 
 * Copyright 2012, Spider Strategies <nathan.bowser@spiderstrategies.com> 
 * sliding-dialog.js may be freely distributed under the BSD license. 
*/
(function(e){"use strict";var t=function(){};t.prototype.init=function(){this.jq=$(this)},t.prototype.emit=t.prototype.trigger=function(e,t){!this.jq&&this.init(),this.jq.trigger(e,t)},t.prototype.once=function(e,t){!this.jq&&this.init(),this.jq.one(e,t)},t.prototype.on=function(e,t){!this.jq&&this.init(),this.jq.bind(e,t)},t.prototype.off=function(e,t){!this.jq&&this.init(),this.jq.unbind(e,t)};var n="<div><div class='dropdown-opener'></div><div class='dropdown-content closed'><div class='dropdown-content-inner'></div></div></div>",r=function(e){if(!e||!e.opener||!e.content)throw new Error("Pass in opts.opener and opts.content");this.model={opener:e.opener,content:e.content}};r.prototype.transitionEnd=function(e){$(".dropdown-content").hasClass("open")&&$(".dropdown-content").css("max-height",9999)},r.prototype.render=function(){this.$el=$("<div>").html(n),this.$el.find(".dropdown-opener").html(this.model.opener),this.$el.find(".dropdown-content-inner").html(this.model.content);var e=this;return $(document).on("click",".dropdown-opener",function(){e.toggle()}),$(document).on("webkitTransitionEnd transitionEnd oTransitionEnd msTransitionEnd",function(){e.transitionEnd()}),this},r.prototype.collapse=function(){var e=$(".dropdown-content");e.removeClass("open").addClass("closed"),$(".dropdown-opener").removeClass("dropdown-opener-rotate"),e.css("max-height",e.outerHeight()),setTimeout(function(){e.css({"max-height":0,opacity:0})},10),this.trigger("close")},r.prototype.expand=function(){var e=$(".dropdown-content");e.removeClass("closed").addClass("open"),$(".dropdown-opener").addClass("dropdown-opener-rotate");var t=e.outerHeight()+e.find(".dropdown-content-inner").outerHeight();e.css({"max-height":t,opacity:1}),this.trigger("open")},r.prototype.toggle=function(e){$(".dropdown-content").hasClass("open")?this.collapse():this.expand()},$.extend(r.prototype,new t),e.SlidingDialog=r})(window);