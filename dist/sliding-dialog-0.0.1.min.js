/*!
 * sliding-dialog.js v0.0.1 
 * Copyright 2012, Spider Strategies <nathan.bowser@spiderstrategies.com> 
 * sliding-dialog.js may be freely distributed under the BSD license. 
*/
(function(e){"use strict";var t="<div><div class='dropdown-opener'><%= opener %></div><div class='dropdown-content closed'><div class='dropdown-content-inner'><%= content %></div></div></div>",n=e.View.extend({events:{"click .dropdown-opener":"open","webkitTransitionEnd .dropdown-content":"transitionEnd","transitionEnd .dropdown-content":"transitionEnd","oTransitionEnd .dropdown-content":"transitionEnd","msTransitionEnd .dropdown-content":"transitionEnd"},transitionEnd:function(e){this.content.hasClass("open")&&this.content.css("max-height",9999)},initialize:function(e){if(!e||!e.opener||!e.content)throw new Error("Pass in opts.opener and opts.content");this.model={opener:e.opener,content:e.content}},render:function(){return this.$el.html(_.template(t)(this.model)),this.content=this.$(".dropdown-content"),this},open:function(e){var t=this;this.content.toggleClass("closed open"),this.$(".dropdown-opener").toggleClass("dropdown-opener-rotate");if(this.content.hasClass("closed"))this.content.css("max-height",this.content.outerHeight()),setTimeout(function(){t.content.css({"max-height":0,opacity:0})},10);else{var n=this.content.outerHeight()+this.content.find(".dropdown-content-inner").outerHeight();this.content.css({"max-height":n,opacity:1})}}});return e.SlidingDialog=n,e})(window.Backbone);