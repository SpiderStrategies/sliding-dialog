/*!
 * sliding-dialog.js v0.0.1 
 * Copyright 2012, Spider Strategies <nathan.bowser@spiderstrategies.com> 
 * sliding-dialog.js may be freely distributed under the BSD license. 
*/
(function(e){"use strict";var t="<div><div class='dropdown-opener'></div><div class='dropdown-content closed'><div class='dropdown-content-inner'></div></div></div>",n=e.View.extend({events:{"click .dropdown-opener":"toggle","webkitTransitionEnd .dropdown-content":"transitionEnd","transitionEnd .dropdown-content":"transitionEnd","oTransitionEnd .dropdown-content":"transitionEnd","msTransitionEnd .dropdown-content":"transitionEnd"},transitionEnd:function(e){this.content.hasClass("open")&&this.content.css("max-height",9999)},initialize:function(e){if(!e||!e.opener||!e.content)throw new Error("Pass in opts.opener and opts.content");this.model={opener:e.opener,content:e.content}},render:function(){return this.$el.html(_.template(t)()),this.$(".dropdown-opener").html(this.model.opener),this.$(".dropdown-content-inner").html(this.model.content),this.content=this.$(".dropdown-content"),this},close:function(){var e=this;this.content.removeClass("open").addClass("closed"),this.$(".dropdown-opener").removeClass("dropdown-opener-rotate"),this.content.css("max-height",this.content.outerHeight()),setTimeout(function(){e.content.css({"max-height":0,opacity:0})},10),e.trigger("close")},open:function(){this.content.removeClass("closed").addClass("open"),this.$(".dropdown-opener").addClass("dropdown-opener-rotate");var e=this.content.outerHeight()+this.content.find(".dropdown-content-inner").outerHeight();this.content.css({"max-height":e,opacity:1}),this.trigger("open")},toggle:function(e){this.content.hasClass("open")?this.close():this.open()}});return e.SlidingDialog=n,e})(window.Backbone);